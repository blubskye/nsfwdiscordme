framework:
    secret: '%env(APP_SECRET)%'
    csrf_protection: true

    session:
        handler_id: App\Storage\Sessions\RedisSessionHandler
        cookie_secure: auto
        cookie_samesite: lax
        cookie_lifetime: 604800
        gc_maxlifetime: 604800
        storage_factory_id: session.storage.factory.native

    php_errors:
        log: true

    handle_all_throwables: true

    asset_mapper:
        paths:
            - assets/

    # Cache configuration with Redis for better performance
    cache:
        # Use Redis as the default cache adapter
        app: cache.adapter.redis
        default_redis_provider: '%env(REDIS_URL)%'
        pools:
            # Doctrine second-level cache pool
            doctrine.second_level_cache_pool:
                adapter: cache.adapter.redis
                default_lifetime: 3600
            # Result cache for queries
            doctrine.result_cache_pool:
                adapter: cache.adapter.redis
                default_lifetime: 1800
            # System cache for metadata
            doctrine.system_cache_pool:
                adapter: cache.adapter.redis
                default_lifetime: 86400
